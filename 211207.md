# 设计模式之单例模式

## es6 写法

缺点： 告诉使用者必须用 `getInstance` 方法才能调用

``` typescript
class Single {
    private static instance: Single;
    private constructor() {

    }
    public static getInstance() {
        if (!Single.instance) {
            Single.instance = new Single();
        }
        return Single.instance;
    }
}
const s1 = Single.getInstance();
const s2 = Single.getInstance();

console.log(s1 === s2); // true
```

## es5 写法

``` typescript
function Single() {

}

Single.getInstance = (function() {
    let instance: Single;
    if (!instance) {
        instance = new Single();
    }
    return instance;
})()

const s1 = Single.getInstance();
const s2 = Single.getInstance();

console.log(s1 === s2); // true
```
