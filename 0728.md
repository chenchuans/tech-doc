# 网络基础-2(网络接口层)

## 网络接口层(数据链路层、物理层)

### 物理层

将二进制编码包裹好之后，跟随各种方式传输(双绞线、光纤、电话线...)

1. 高低电平

  - 无法确认发送接收频率
  - 内部无法包含时钟信号
  - 比较节省资源(每个信号是一位数字)

2. 曼彻斯特编码

  - 资源开销是高低电平的两倍(每个信号是一位数字, **01**代表**1** **10**代表**0**)
  - 自带频率, 方便识别
  - 稳定可靠(目前已经为以太网所用)

### 数据链路层

#### 载波监听多部访问(最初使用)

> 有一个总线的概念，所有设备都连接到一条总线上来访问。缺点是不安全，因为会广播询问线上所有人，得到答复后发送，容易被伪装冒充接收内容。

  - 先听后讲 信道空闲发送,忙时等待
  - 边听边讲 发送信号时不断检测信道是否碰撞。
  - 退避重传 碰撞即停,重新发送信号。
  - 冲突检测 二进制指数退避算法,最多2的16次方放弃。

> 后来有了交换机的概念，交换机上只有数据包，用的是Mac地址进行识别交换数据，大大提高效率和安全性，可以理解为一个调度中心。

#### MAC地址

MAC地址(每个网卡的唯一标识,原则上不要修改,一个电脑可能有多个)是由48位二进制组成,通常分为6段,用16进制表示,前三段代表供应商(供应商向网络机构申请)

![image](/image/network/MAC地址.png)

#### ARP协议 (Address Resolution Protocol)

- 地址解析协议，根据IP地址获取物理MAC地址的一个TCP/IP协议，一般在局域网中广播询问

![image](/image/network/ARP过程.png)

类比为送快递，局域网相当于小区，在小区门口通过Mac地址广播找到对应收件人，但是运输过程需要IP地址来找到小区位置，因此有了选址的概念。

##### 选址

交换过程是通过MAC来寻址，而MAC地址无层级，所以需要靠IP地址来确认计算机的位置(IP找到大地址，然后在局域网中MAC通过ARP1协议广播找到对应目标)

##### 路由

在多条通道之间选择最优的路线，根据路由算法从当前发送目标出发，一路调整，只要大方向不错，最终便会到达
