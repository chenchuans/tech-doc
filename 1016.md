# Vue3+TypeScript å®Œæ•´é¡¹ç›®ä¸Šæ‰‹æ•™ç¨‹

## ä¸€ä¸ªå®Œæ•´çš„Vue3+Tsé¡¹ç›®,æ”¯æŒ.vueå’Œ.tsxå†™æ³•

> é¡¹ç›®åœ°å€ï¼šhttps://github.com/vincentzyc/vue3-demo.git

TypeScript æ˜¯JSçš„ä¸€ä¸ªè¶…é›†ï¼Œä¸»è¦æä¾›äº†ç±»å‹ç³»ç»Ÿå’Œå¯¹ES6çš„æ”¯æŒï¼Œä½¿ç”¨ TypeScript å¯ä»¥å¢åŠ ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œåœ¨ react å’Œ vue ç¤¾åŒºä¸­ä¹Ÿè¶Šæ¥è¶Šå¤šäººå¼€å§‹ä½¿ç”¨TypeScriptã€‚ä»æœ€è¿‘å‘å¸ƒçš„ Vue3 æ­£å¼ç‰ˆæœ¬æ¥çœ‹ï¼Œ Vue3 çš„æºç å°±æ˜¯ç”¨ TypeScript ç¼–å†™çš„ï¼Œæ›´å¥½çš„ TypeScript æ”¯æŒä¹Ÿæ˜¯è¿™ä¸€æ¬¡å‡çº§çš„äº®ç‚¹ã€‚å½“ç„¶ï¼Œåœ¨å®é™…å¼€å‘ä¸­å¦‚ä½•æ­£ç¡®æ‹¥æŠ± TypeScript ä¹Ÿæ˜¯è¿ç§»è‡³ Vue3 çš„ä¸€ä¸ªå°ç—›ç‚¹ï¼Œè¿™é‡Œå°±é’ˆå¯¹ Vue3 å’Œ TypeScript å±•å¼€ä¸€äº›äº¤æµã€‚

Vue3å…¥å£: https://github.com/vuejs/vue-next

## é¡¹ç›®æ­å»º

åœ¨å®˜æ–¹ä»“åº“çš„ Quickstart ä¸­æ¨èç”¨ä¸¤ç§æ–¹å¼æ–¹å¼æ¥æ„å»ºæˆ‘ä»¬çš„ SPA é¡¹ç›®ï¼š

- vite

``` sh
npm init vite-app sail-vue3 # OR yarn create vite-app sail-vue3
```

- vue-cli

``` sh
npm install -g @vue/cli # OR yarn global add @vue/cli
vue create sail-vue3
# select vue 3 preset
```

vite æ˜¯ä¸€ä¸ªç”±åŸç”ŸESMé©±åŠ¨çš„Webå¼€å‘æ„å»ºå·¥å…·ï¼Œæ‰“å¼€ vite ä¾èµ–çš„ package.json å¯ä»¥å‘ç°åœ¨ devDependencies å¼€å‘ä¾èµ–é‡Œé¢å·²ç»å¼•å…¥äº†TypeScript ï¼Œç”šè‡³è¿˜æœ‰ vuex , vue-router , less , sass è¿™äº›æœ¬åœ°å¼€å‘ç»å¸¸éœ€è¦ç”¨åˆ°çš„å·¥å…·ã€‚vite è½»é‡ï¼Œå¼€ç®±å³ç”¨çš„ç‰¹ç‚¹ï¼Œæ»¡è¶³äº†å¤§éƒ¨åˆ†å¼€å‘åœºæ™¯çš„éœ€æ±‚ï¼Œä½œä¸ºå¿«é€Ÿå¯åŠ¨æœ¬åœ° Vue é¡¹ç›®æ¥è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸å®Œç¾çš„å·¥å…·ã€‚

> åé¢çš„æ¼”ç¤ºä»£ç ä¹Ÿæ˜¯ç”¨viteæ­çš„

ä» vue2.x èµ°è¿‡æ¥çš„æ˜å‹è‚¯å®šçŸ¥é“ vue-cli è¿™ä¸ªå®˜æ–¹è„šæ‰‹æ¶ï¼Œ vue3 çš„æ›´æ–°æ€ä¹ˆèƒ½å°‘å¾—äº† vue-cli å‘¢ï¼Œ vue-cli æ›´å¼ºè°ƒçš„æ˜¯ç”¨ cli çš„æ–¹å¼è¿›è¡Œäº¤äº’å¼çš„é…ç½®ï¼Œé€‰æ‹©èµ·æ¥æ›´åŠ çµæ´»å¯æ§ã€‚ä¸°å¯Œçš„å®˜æ–¹æ’ä»¶é€‚é…ï¼ŒGUIçš„åˆ›å»ºç®¡ç†ç•Œé¢ï¼Œæ ‡å‡†åŒ–å¼€å‘æµç¨‹ï¼Œè¿™äº›éƒ½æ˜¯ vue-cli çš„ç‰¹ç‚¹ã€‚

- vue-cli âœ– TypeScript STEP1
![image](image/vue3+ts/vue3-1.png)

- vue-cli âœ– TypeScript STEP2
![image](image/vue3+ts/vue3-1.png)

> æƒ³è¦é¢„è£…TypeScriptï¼Œå°±éœ€è¦é€‰æ‹©æ‰‹åŠ¨é…ç½®ï¼Œå¹¶checkå¥½TypeScript

å¿˜è®°ä½¿ç”¨é€‰æ‹© TypeScript ä¹Ÿæ²¡äº‹ï¼ŒåŠ ä¸€è¡Œcliå‘½ä»¤å°±è¡Œäº†

``` sh
vue add typescript
```

æœ€åï¼Œåˆ«å¿˜äº†åœ¨ .vue ä»£ç ä¸­ï¼Œç»™ script æ ‡ç­¾åŠ ä¸Š lang="ts"

``` html
<script lang="ts">
```

## Option APIé£æ ¼

åœ¨ Vue2.x ä½¿ç”¨è¿‡ TypeScript çš„æ˜å‹è‚¯å®šçŸ¥é“å¼•å…¥ TypeScript ä¸æ˜¯ä¸€ä»¶ç®€å•çš„äº‹æƒ…ï¼š

1. è¦ç”¨ vue-class-component å¼ºåŒ– vue ç»„ä»¶ï¼Œè®© Script æ”¯æŒ TypeScript è£…é¥°å™¨
2. ç”¨ vue-property-decorator æ¥å¢åŠ æ›´å¤šç»“åˆ Vue ç‰¹æ€§çš„è£…é¥°å™¨
3. å¼•å…¥ ts-loader è®© webpack è¯†åˆ« .ts .tsx æ–‡ä»¶
.....

ç„¶åå‡ºæ¥çš„ä»£ç é£æ ¼æ˜¯è¿™æ ·çš„ï¼š

``` javascript
@Component({
    components:{ componentA, componentB},
})
export default class Parent extends Vue{
  @Prop(Number) readonly propA!: number | undefined
  @Prop({ default: 'default value' }) readonly propB!: string
  @Prop([String, Boolean]) readonly propC!: string | boolean | undefined

  // dataä¿¡æ¯
  message = 'Vue2 code style'

  // è®¡ç®—å±æ€§
  private get reversedMessage (): string[] {
      return this.message.split(' ').reverse().join('')
  }

  // method
  public changeMessage (): void {
    this.message = 'Good bye'
  }
}
```

class é£æ ¼çš„ç»„ä»¶ï¼Œå„ç§è£…é¥°å™¨ç©¿æ’åœ¨ä»£ç ä¸­ï¼Œæœ‰ç‚¹æ„Ÿè§‰è‡ªå·±ä¸æ˜¯åœ¨å†™ vue ï¼Œäº›è®¸å‡Œä¹±ğŸ™ˆï¼Œæ‰€ä»¥è¿™ç§æ›²çº¿æ•‘å›½çš„æ–¹æ¡ˆåœ¨ vue3 é‡Œé¢è‚¯å®šæ˜¯è¡Œä¸é€šçš„ã€‚

åœ¨ vue3 ä¸­å¯ä»¥ç›´æ¥è¿™ä¹ˆå†™ï¼š

``` javascript
import { defineComponent, PropType } from 'vue'

interface Student {
  name: string
  class: string
  age: number
}

const Component = defineComponent({
  props: {
    success: { type: String },
    callback: {
      type: Function as PropType<() => void>
    },
    student: {
      type: Object as PropType<Student>,
      required: true
    }
  },
  data() {
     return {
        message: 'Vue3 code style'
    }
  },
  computed: {
    reversedMessage(): string {
      return this.message.split(' ').reverse().join('')
    }
  }
})
```

vue å¯¹ props è¿›è¡Œå¤æ‚ç±»å‹éªŒè¯çš„æ—¶å€™ï¼Œå°±ç›´æ¥ç”¨ PropType è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œ data ä¸­è¿”å›çš„æ•°æ®ä¹Ÿèƒ½åœ¨ä¸æ˜¾å¼å®šä¹‰ç±»å‹çš„æ—¶å€™æ¨æ–­å‡ºå¤§å¤šç±»å‹ï¼Œ computed ä¹Ÿåªç”¨è¿”å›ç±»å‹çš„è®¡ç®—å±æ€§å³å¯ï¼Œä»£ç æ¸…æ™°ï¼Œé€»è¾‘ç®€å•ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº† vue ç»“æ„çš„å®Œæ•´æ€§ã€‚

## Composition APIé£æ ¼

åœ¨ vue3 çš„ Composition API ä»£ç é£æ ¼ä¸­ï¼Œæ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„apiå°±æ˜¯ ref å’Œ reactive ï¼Œæˆ‘ä»¬çœ‹çœ‹è¿™ä¸¤ä¸ªæ˜¯å¦‚ä½•åšç±»å‹å£°æ˜çš„ï¼š

### ref

``` javascript
import { defineComponent, ref } from 'vue'

const Component = defineComponent({
setup() {
  const year = ref(2020)
  const month = ref<string | number>('9')

  month.value = 9 // OK
  const result = year.value.split('') // => Property 'split' does not exist on type 'number'
 }
})
```

åˆ†æä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°å¦‚æœæˆ‘ä»¬ä¸ç»™å®š ref å®šä¹‰çš„ç±»å‹çš„è¯ï¼Œ vue3 ä¹Ÿèƒ½æ ¹æ®åˆå§‹å€¼æ¥è¿›è¡Œç±»å‹æ¨å¯¼ï¼Œç„¶åéœ€è¦æŒ‡å®šå¤æ‚ç±»å‹çš„æ—¶å€™ç®€å•ä¼ é€’ä¸€ä¸ªæ³›å‹å³å¯ã€‚

> Tipsï¼šå¦‚æœåªæœ‰setupæ–¹æ³•çš„è¯ï¼Œå¯ä»¥ç›´æ¥åœ¨defineComponentä¸­ä¼ å…¥setupå‡½æ•°

``` javascript
const Component = defineComponent(() => {
    const year = ref(2020)
    const month = ref<string | number>('9')

    month.value = 9 // OK
    const result = year.value.split('') // => Property 'split' does not exist on type 'number'
})
```

### reactive

``` javascript
import { defineComponent, reactive } from 'vue'

interface Student {
  name: string
  class?: string
  age: number
}

export default defineComponent({
  name: 'HelloWorld',
  setup() {
    const student = reactive<Student>({ name: 'é˜¿å‹‡', age: 16 })
    // or
    const student: Student = reactive({ name: 'é˜¿å‹‡', age: 16 })
    // or
    const student = reactive({ name: 'é˜¿å‹‡', age: 16, class: 'cs' }) as Student
  }
})
```

å£°æ˜ reactive çš„æ—¶å€™å°±å¾ˆæ¨èä½¿ç”¨æ¥å£äº†ï¼Œç„¶åæ€ä¹ˆä½¿ç”¨ç±»å‹æ–­è¨€å°±æœ‰å¾ˆå¤šç§é€‰æ‹©äº†ï¼Œè¿™æ˜¯TypeScript çš„è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚

## è‡ªå®šä¹‰Hooks

vue3 å€Ÿé‰´ react hooks å¼€å‘å‡ºäº† Composition API ï¼Œé‚£ä¹ˆä¹Ÿå°±æ„å‘³ç€ Composition APIä¹Ÿèƒ½è¿›è¡Œè‡ªå®šä¹‰å°è£… hooks ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ç”¨ TypeScript é£æ ¼å°è£…ä¸€ä¸ªè®¡æ•°å™¨é€»è¾‘çš„ hooks ï¼ˆ useCount ï¼‰:

é¦–å…ˆæ¥çœ‹çœ‹è¿™ä¸ª hooks æ€ä¹ˆä½¿ç”¨ï¼š

``` javascript
import { ref } from '/@modules/vue'
import  useCount from './useCount'

export default {
  name: 'CountDemo',
  props: {
    msg: String
  },
  setup() {
    const { current: count, inc, dec, set, reset } = useCount(2, {
      min: 1,
      max: 15
    })
    const msg = ref('Demo useCount')

    return {
      count,
      inc,
      dec,
      set,
      reset,
      msg
    }
  }
}
```

å‡ºæ¥çš„æ•ˆæœå°±æ˜¯ï¼š

![image](image/vue3+ts/vue3-3.gif)

è´´ä¸Š useCount çš„æºç ï¼š

``` javascript
import { ref, Ref, watch } from 'vue'

interface Range {
  min?: number,
  max?: number
}

interface Result {
  current: Ref<number>,
  inc: (delta?: number) => void,
  dec: (delta?: number) => void,
  set: (value: number) => void,
  reset: () => void
}

export default function useCount(initialVal: number, range?: Range): Result {
  const current = ref(initialVal)
  const inc = (delta?: number): void => {
    if (typeof delta === 'number') {
      current.value += delta
    } else {
      current.value += 1
    }
  }
  const dec = (delta?: number): void => {
    if (typeof delta === 'number') {
      current.value -= delta
    } else {
      current.value -= 1
    }
  }
  const set = (value: number): void => {
    current.value = value
  }
  const reset = () => {
    current.value = initialVal
  }

  watch(current, (newVal: number, oldVal: number) => {
    if (newVal === oldVal) return
    if (range && range.min && newVal < range.min) {
      current.value = range.min
    } else if (range && range.max && newVal > range.max) {
      current.value = range.max
    }
  })

  return {
    current,
    inc,
    dec,
    set,
    reset
  }
}
```

åˆ†ææºç 

è¿™é‡Œé¦–å…ˆæ˜¯å¯¹ hooks å‡½æ•°çš„å…¥å‚ç±»å‹å’Œè¿”å›ç±»å‹è¿›è¡Œäº†å®šä¹‰ï¼Œå…¥å‚çš„ Range å’Œè¿”å›çš„ Result åˆ†åˆ«ç”¨ä¸€ä¸ªæ¥å£æ¥æŒ‡å®šï¼Œè¿™æ ·åšäº†ä»¥åï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯åœ¨ä½¿ç”¨ useCount å‡½æ•°çš„æ—¶å€™ï¼Œideå°±ä¼šè‡ªåŠ¨æç¤ºå“ªäº›å‚æ•°æ˜¯å¿…å¡«é¡¹ï¼Œå„ä¸ªå‚æ•°çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Œé˜²æ­¢ä¸šåŠ¡é€»è¾‘å‡ºé”™ã€‚

![image](image/vue3+ts/vue3-4.png)

æ¥ä¸‹æ¥ï¼Œåœ¨å¢åŠ  inc å’Œå‡å°‘ dec çš„ä¸¤ä¸ªå‡½æ•°ä¸­å¢åŠ äº† typeo ç±»å‹å®ˆå«æ£€æŸ¥ï¼Œå› ä¸ºä¼ å…¥çš„ delta ç±»å‹å€¼åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹ä¸æ˜¯å¾ˆç¡®å®šï¼Œæ¯”å¦‚åœ¨ template ä¸­è°ƒç”¨æ–¹æ³•çš„è¯ï¼Œç±»å‹æ£€æŸ¥å¯èƒ½ä¼šå¤±æ•ˆï¼Œä¼ å…¥çš„ç±»å‹å°±æ˜¯ä¸€ä¸ªåŸç”Ÿçš„ Event ã€‚

å…³äº ref ç±»å‹å€¼ï¼Œè¿™é‡Œå¹¶æ²¡æœ‰ç‰¹åˆ«å£°æ˜ç±»å‹ï¼Œå› ä¸º vue3 ä¼šè¿›è¡Œè‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä½†å¦‚æœæ˜¯å¤æ‚ç±»å‹çš„è¯å¯ä»¥é‡‡ç”¨ç±»å‹æ–­è¨€çš„æ–¹å¼ï¼šref(initObj) as Ref<ObjType>

## å°å»ºè®®

### AnyScript

åœ¨åˆæœŸä½¿ç”¨ TypeScript çš„æ—¶å€™ï¼Œå¾ˆå¤šæ˜å‹éƒ½å¾ˆå–œæ¬¢ä½¿ç”¨ any ç±»å‹ï¼Œç¡¬ç”Ÿç”ŸæŠŠTypeScriptå†™æˆäº† AnyScript ï¼Œè™½ç„¶ä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯è¿™å°±å¤±å»äº† TypeScript çš„ç±»å‹æ£€æŸ¥æ„ä¹‰äº†ï¼Œå½“ç„¶å†™ç±»å‹çš„ä¹ æƒ¯æ˜¯éœ€è¦æ…¢æ…¢å»å…»æˆçš„ï¼Œä¸ç”¨æ€¥äºä¸€æ—¶ã€‚

### Vetur

vetur ä»£ç æ£€æŸ¥å·¥å…·åœ¨å†™vueä»£ç çš„æ—¶å€™ä¼šéå¸¸æœ‰ç”¨ï¼Œå°±åƒæ„å»º vue é¡¹ç›®å°‘ä¸äº† vue-cliä¸€æ ·ï¼Œvetur æä¾›äº† vscode çš„æ’ä»¶æ”¯æŒï¼Œèµ¶ç€å‡çº§ vue3 è¿™ä¸€æ³¢å·¥ä½œï¼Œé¡ºå¸¦ä¹ŸæŠŠ veturä¹Ÿå¸¦ä¸Šå§ã€‚

![image](image/vue3+ts/vue3-5.png)

## ä¸€ä¸ªå®Œæ•´çš„Vue3+tsé¡¹ç›®

``` md
â”œâ”€public
â”‚      favicon.ico
â”‚      index.html
â””â”€src
    â”‚  App.vue
    â”‚  main.ts
    â”‚  shims-vue.d.ts
    â”œâ”€assets
    â”‚  â”‚  logo.png
    â”‚  â””â”€css
    â”‚          base.css
    â”‚          main.styl
    â”œâ”€components
    â”‚  â”‚  HelloWorld.vue
    â”‚  â””â”€base
    â”‚          Button.vue
    â”‚          index.ts
    â”‚          Select.vue
    â”œâ”€directive
    â”‚      focus.ts
    â”‚      index.ts
    â”‚      pin.ts
    â”œâ”€router
    â”‚      index.ts
    â”œâ”€store
    â”‚      index.ts
    â”œâ”€utils
    â”‚  â”‚  cookie.ts
    â”‚  â”‚  deep-clone.ts
    â”‚  â”‚  index.ts
    â”‚  â”‚  storage.ts
    â”‚  â””â”€validate
    â”‚          date.ts
    â”‚          email.ts
    â”‚          mobile.ts
    â”‚          number.ts
    â”‚          system.ts
    â””â”€views
        â”‚  About.vue
        â”‚  Home.vue
        â”‚  LuckDraw.vue
        â”‚  TodoList.vue
        â””â”€address
                AddressEdit.tsx
                AddressList.tsx
```

### .vueå†™æ³•

``` html
<template>
  ...
</template>

<script lang="ts">
import dayjs from "dayjs";
import { ref, reactive, onMounted } from "vue";
import { Button, Step, Steps, NoticeBar } from "vant";

export default {
  components: {
    Button,
    Step,
    Steps,
    NoticeBar,
  },
  setup() {
    const nameinput = ref();
    const selectionStart = ref(0);
    const twoNow = dayjs().subtract(2, "day").format("YYYY-MM-DD HH:mm:ss");
    const now = dayjs().format("YYYY-MM-DD HH:mm:ss");
    const now2 = dayjs().add(2, "day").format("YYYY-MM-DD HH:mm:ss");
    const formData = reactive({
      name: "",
      phone: "",
      code: "",
    });

    onMounted(() => {
      (nameinput.value as HTMLInputElement).focus();
    });

    const insertName = () => {
      const index = (nameinput.value as HTMLInputElement).selectionStart;
      if (typeof index !== "number") return;
      formData.name =
        formData.name.slice(0, index) + "å“ˆå“ˆ" + formData.name.slice(index);
    };

    return {
      nameinput,
      formData,
      insertName,
      selectionStart,
      twoNow,
      now,
      now2,
    };
  },
};
</script>
```

``` html
<template>
   ...
</template>

<script lang="ts">
import dayjs from "dayjs";
import { defineComponent } from "vue";
import HelloWorld from "@/components/HelloWorld.vue"; // @ is an alias to /src
import { Button, Dialog, Toast } from "vant";

export default defineComponent({
  name: "Home",
  components: {
    HelloWorld,
    Button,
  },
  data() {
    return {
      direction: "top",
      pinPadding: 0,
      time: "",
      timer: 0,
      color: "red",
    };
  },
  methods: {
    showToast() {
      Toast("å­—ä½“é¢œè‰²å·²æ”¹è“è‰²");
      this.color = "blue";
    },
    handleClick() {
      Dialog({
        title: "æ ‡é¢˜",
        message: "è¿™æ˜¯ä¸€ä¸ªå…¨å±€æŒ‰é’®ç»„ä»¶",
      });
    },
    initTime() {
      this.time = dayjs().format("YYYY-MM-DD HH:mm:ss");
      this.timer = setInterval(() => {
        this.time = dayjs().format("YYYY-MM-DD HH:mm:ss");
      }, 1000);
    },
  },
  created() {
    this.initTime();
  },
  beforeUnmount() {
    clearInterval(this.timer);
  },
});
</script>

<style vars="{ color }">
.text-color {
  color: var(--color);
}
</style>
```

### tsxå†™æ³•

``` javascript
import { ref, reactive } from "vue";
import { AddressList, NavBar, Toast, Popup } from "vant";
import AddressEdit from './AddressEdit'
import router from '@/router'

export default {
  setup() {
    const chosenAddressId = ref('1')
    const showEdit = ref(false)

    const list = reactive([
      {
        id: '1',
        name: 'å¼ ä¸‰',
        tel: '13000000000',
        address: 'æµ™æ±Ÿçœæ­å·å¸‚è¥¿æ¹–åŒºæ–‡ä¸‰è·¯ 138 å·ä¸œæ–¹é€šä¿¡å¤§å¦ 7 æ¥¼ 501 å®¤',
        isDefault: true,
      },
      {
        id: '2',
        name: 'æå››',
        tel: '1310000000',
        address: 'æµ™æ±Ÿçœæ­å·å¸‚æ‹±å¢…åŒºè«å¹²å±±è·¯ 50 å·',
      },
    ])
    const disabledList = reactive([
      {
        id: '3',
        name: 'ç‹äº”',
        tel: '1320000000',
        address: 'æµ™æ±Ÿçœæ­å·å¸‚æ»¨æ±ŸåŒºæ±Ÿå—å¤§é“ 15 å·',
      },
    ])

    const onAdd = () => {
      showEdit.value = true
    }
    const onEdit = (item: any, index: string) => {
      Toast('ç¼–è¾‘åœ°å€:' + index);
    }

    const onClickLeft = () => {
      router.back()
    }

    const onClickRight = () => {
      router.push('/todoList')
    }

    return () => {
      return (
        <div style="background:#f7f8fa">
          <NavBar
            title="åœ°å€ç®¡ç†"
            left-text="è¿”å›"
            right-text="Todo"
            left-arrow
            onClick-left={onClickLeft}
            onClick-right={onClickRight}
          />
          <AddressList
            vModel={chosenAddressId.value}
            list={list}
            disabledList={disabledList}
            disabledText="ä»¥ä¸‹åœ°å€è¶…å‡ºé…é€èŒƒå›´"
            defaultTagText="é»˜è®¤"
            onAdd={onAdd}
            onEdit={onEdit}
          />
          <Popup vModel={[showEdit.value, 'show']} position="bottom" round style="height: 80%" >
            <AddressEdit />
          </Popup>
        </div >
      );
    };
  }
};
```
